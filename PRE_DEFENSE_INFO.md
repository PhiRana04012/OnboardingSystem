# Основная информация о проекте для предзащиты

## Система онбординга новых сотрудников

---

## 1. ЧТО РЕАЛИЗОВАНО

### 1.1. Основной функционал системы

#### ✅ Модульная система обучения
- **Что:** Структурированные обучающие модули с текстовым контентом
- **Как:** Модули привязаны к подразделениям, могут быть обязательными или рекомендуемыми
- **Почему:** Позволяет стандартизировать процесс онбординга и адаптировать контент под конкретные подразделения

**Реализовано:**
- Создание и редактирование модулей через админ-панель
- Разделение на обязательные (`IsMandatory = true`) и рекомендуемые модули
- Привязка модулей к подразделениям (`DepartmentId`)
- Отображение контента модулей на фронтенде
- Отслеживание статуса прохождения (не начат, в процессе, завершен)

#### ✅ Система тестирования с попытками
- **Что:** Автоматизированное тестирование знаний по модулям
- **Как:** Банк вопросов с вариантами ответов, случайная генерация тестов, ограничение попыток
- **Почему:** Обеспечивает объективную оценку знаний и соответствие требованиям ТЗ

**Реализовано:**
- Банк вопросов с множественным выбором ответов
- Случайный выбор вопросов из банка для каждого теста
- Настраиваемый проходной балл (по умолчанию 80%)
- Ограничение количества попыток (по умолчанию 3)
- Автоматическая проверка ответов
- Сохранение результатов каждой попытки в БД (`TestAttempts`)
- Статус "сдано" / "не сдано" (`IsPassed`)
- Блокировка после исчерпания попыток
- Детальный разбор результатов с показом правильных/неправильных ответов

#### ✅ Отслеживание прогресса
- **Что:** Визуализация прогресса прохождения онбординга
- **Как:** Автоматический расчет процента выполнения, прогресс-бары, статусы модулей
- **Почему:** Позволяет сотрудникам, наставникам и HR видеть текущий статус адаптации

**Реализовано:**
- Прогресс-бар онбординга (процент выполнения)
- Статусы модулей: не начат, в процессе, завершен, не сдан
- История всех попыток прохождения тестов
- Визуализация по обязательным и рекомендуемым модулям
- Отслеживание дат начала и завершения модулей

#### ✅ Система отчетности
- **Что:** Различные отчеты для разных ролей пользователей
- **Как:** REST API endpoints для формирования отчетов с фильтрацией
- **Почему:** Обеспечивает прозрачность процесса и помогает выявлять проблемные зоны

**Реализовано:**
- Отчет по прогрессу онбординга сотрудника (индивидуальный)
- Отчет по результатам тестов с детализацией по попыткам
- Отчет по подразделениям (для руководителей)
- Фильтрация данных по датам, подразделениям, статусам
- Журнал действий пользователей (`ActionLogs`)

#### ✅ Ролевая модель доступа
- **Что:** 5 ролей с различными правами доступа
- **Как:** Проверка ролей на backend и защита маршрутов на frontend
- **Почему:** Обеспечивает безопасность и правильное распределение функций

**Реализовано:**
1. **Новый сотрудник** - просмотр модулей, прохождение тестов, свой прогресс
2. **Наставник** - просмотр прогресса подопечных, отчеты по подопечным
3. **HR-специалист** - управление пользователями, модулями, формирование отчетов
4. **Руководитель подразделения** - отчеты по своему подразделению, аналитика
5. **Администратор системы** - полный доступ ко всем функциям

#### ✅ Интеграция с RIMS API
- **Что:** Синхронизация данных сотрудников из корпоративной системы RIMS
- **Как:** HTTP клиент, REST API, автоматическое сопоставление и создание пользователей
- **Почему:** Автоматизирует создание пользователей и поддерживает актуальность данных

**Реализовано:**
- Поиск пользователей по UID (уникальный идентификатор)
- Поиск пользователей по Email
- Автоматическое создание пользователей из RIMS
- Обновление данных существующих пользователей (ФИО, должность, подразделение)
- Автоматическое сопоставление подразделений (создание если отсутствует)
- Логирование операций синхронизации
- Обработка ошибок и таймаутов

### 1.2. Технические компоненты

#### Backend (ASP.NET Core Web API)
- **9 REST API контроллеров:**
  1. `UsersController` - управление пользователями
  2. `ModulesController` - управление модулями
  3. `QuestionsController` - управление вопросами
  4. `TestAttemptsController` - прохождение тестов
  5. `ProgressController` - отслеживание прогресса
  6. `ReportsController` - формирование отчетов
  7. `DepartmentsController` - управление подразделениями
  8. `ActionLogsController` - журнал действий
  9. `RimsSyncController` - синхронизация с RIMS

- **База данных (SQL Server + Entity Framework Core):**
  - 10+ таблиц: Users, Modules, Questions, AnswerOptions, TestAttempts, UserModuleProgress, Departments, Roles, ActionLogs
  - Миграции БД для версионирования схемы
  - Связи между таблицами (FK constraints)

- **Архитектура:**
  - Layered Architecture (Controllers → Services → Data)
  - DTO pattern для передачи данных
  - Dependency Injection
  - Swagger/OpenAPI документация

#### Frontend (Vue.js 3)
- **8 страниц:**
  1. Login - страница входа
  2. Dashboard - главная страница с прогрессом
  3. ModuleView - просмотр модуля
  4. TestView - прохождение теста
  5. TestResult - результаты теста
  6. Reports - отчеты
  7. Admin - администрирование
  8. Profile - профиль пользователя

- **Технологии:**
  - Vue.js 3 (Composition API)
  - Vue Router 4 (маршрутизация с защитой по ролям)
  - Pinia (state management)
  - Tailwind CSS (стилизация)
  - Axios (HTTP клиент)

---

## 2. КАК РЕАЛИЗОВАНО

### 2.1. Архитектура системы

```
Frontend (Vue.js 3)
    ↓ HTTP/REST
Backend API (ASP.NET Core)
    ↓ Entity Framework
Database (SQL Server)
    ↓ HTTP Client
External APIs (RIMS)
```

**Особенности:**
- Разделение на клиент и сервер (SPA + API)
- RESTful архитектура
- Многоуровневая структура backend
- Возможность масштабирования

### 2.2. Процесс онбординга сотрудника

1. **Создание пользователя:**
   - Вручную через админ-панель (HR/Администратор)
   - Автоматически через синхронизацию с RIMS
   - Назначение наставника (опционально)

2. **Изучение модулей:**
   - Сотрудник видит список модулей на Dashboard
   - Модули разделены на обязательные и рекомендуемые
   - Открытие модуля → просмотр контента → отметка "Изучено"

3. **Прохождение тестов:**
   - После изучения модуля доступен тест
   - Генерация случайных вопросов из банка
   - Выбор ответов → отправка → автоматическая проверка
   - Результат: балл, статус (сдано/не сдано), детальный разбор

4. **Отслеживание прогресса:**
   - Автоматический расчет процента выполнения
   - Обновление статусов модулей
   - Сохранение всех действий в журнал

### 2.3. Интеграция с RIMS

**Процесс синхронизации:**

1. Запрос к RIMS API с параметрами поиска (UID или Email)
2. Получение данных сотрудника (ФИО, должность, подразделение)
3. Поиск пользователя в локальной БД
4. Сопоставление подразделения:
   - Поиск по названию в таблице Departments
   - Если не найдено → создание нового подразделения
5. Создание или обновление пользователя
6. Логирование результата

**Технические детали:**
- HTTP клиент с настраиваемым таймаутом
- Обработка ошибок (недоступность API, таймауты)
- Безопасная обработка данных
- Сохранение даты последней синхронизации (`RimsLastSyncDate`)

---

## 3. ПОЧЕМУ ТАК РЕАЛИЗОВАНО

### 3.1. Выбор технологий

#### Backend: ASP.NET Core + SQL Server
- **Почему ASP.NET Core:**
  - Современный, производительный фреймворк
  - Отличная документация и поддержка
  - Подходит для корпоративных решений
  - Встроенная поддержка Dependency Injection
  - Entity Framework Core для работы с БД

- **Почему SQL Server:**
  - Надежная реляционная БД
  - Отличная интеграция с .NET
  - Поддержка транзакций и целостности данных
  - Подходит для корпоративных систем

#### Frontend: Vue.js 3
- **Почему Vue.js:**
  - Прогрессивный, легкий в изучении фреймворк
  - Composition API для лучшей организации кода
  - Хорошая производительность
  - Активное сообщество и документация

- **Почему Tailwind CSS:**
  - Быстрая разработка UI
  - Utility-first подход
  - Адаптивный дизайн "из коробки"
  - Легко кастомизировать

### 3.2. Архитектурные решения

#### REST API вместо GraphQL
- **Почему:** Проще для корпоративной среды, легче интегрируется с существующими системами, достаточно для функционала проекта

#### Многоуровневая архитектура
- **Почему:** Четкое разделение ответственности, легче тестировать и поддерживать, соответствует best practices

#### DTO Pattern
- **Почему:** Разделение внутренних сущностей (Entities) и данных для передачи, защита от переполнения, гибкость в изменениях

### 3.3. Бизнес-логика

#### Ограничение попыток тестирования
- **Почему:** Стимулирует серьезное изучение материала, предотвращает случайное прохождение, соответствует требованиям ТЗ

#### Обязательные и рекомендуемые модули
- **Почему:** Позволяет выделить критически важные материалы, дает гибкость в организации обучения

#### Автоматическая синхронизация с RIMS
- **Почему:** Снижает нагрузку на HR, обеспечивает актуальность данных, автоматизирует создание пользователей

---

## 4. ЧТО НЕ РЕАЛИЗОВАНО (В ПЛАНАХ)

### ⏳ Email уведомления
- **Что планируется:** Уведомления о завершении онбординга, о провале теста
- **Почему не сейчас:** Требует настройки SMTP сервера и интеграции с почтовой системой компании

### ⏳ Полная интеграция с SSO
- **Что планируется:** Единый вход через корпоративную систему
- **Почему не сейчас:** Требует доступа к SSO системе компании и настройки протокола (SAML/OAuth)

### ⏳ Интеграция с ПСО
- **Что планируется:** Автоматическая передача запросов на доступы в Портал самообслуживания
- **Почему не сейчас:** Требует доступа к API ПСО и согласования формата данных

### ⏳ Экспорт отчетов в Excel/PDF
- **Что планируется:** Сохранение отчетов в файлы для офлайн использования
- **Почему не сейчас:** Дополнительная функциональность, не критична для основной работы системы

---

## 5. МЕТРИКИ И ПОКАЗАТЕЛИ

### Объем кода
- **Backend:** ~2000+ строк кода на C#
- **Frontend:** ~1500+ строк кода на Vue.js
- **База данных:** 10+ таблиц с связями

### API
- **Endpoints:** 40+ REST методов
- **Контроллеры:** 9 контроллеров
- **DTO:** 10+ DTO классов

### Соответствие ТЗ
- **Основной функционал:** ~100%
- **Интеграции:** ~85% (RIMS реализован, SSO/ПСО в планах)
- **Общий процент выполнения:** ~85-90%

---

## 6. ОТВЕТЫ НА ВОЗМОЖНЫЕ ВОПРОСЫ КОМИССИИ

### Вопрос 1: "Что уже реализовано?"

**Ответ:**
> "Реализована полнофункциональная система онбординга, включающая:
> - Модульную систему обучения с привязкой к подразделениям
> - Полноценную систему тестирования с ограничением попыток и проходным баллом
> - Отслеживание прогресса с визуализацией
> - Систему отчетности для всех ролей
> - Интеграцию с RIMS API для синхронизации данных
> - Ролевую модель доступа с 5 ролями
> - Административную панель для управления
> 
> Система полностью работоспособна и может использоваться для онбординга сотрудников."

### Вопрос 2: "Почему выбрали именно эти технологии?"

**Ответ:**
> "ASP.NET Core выбран как современный, производительный фреймворк с отличной документацией, хорошо подходящий для корпоративных решений. SQL Server обеспечивает надежность и отличную интеграцию с .NET. 
> 
> Vue.js выбран как прогрессивный фреймворк, легче в изучении чем React или Angular, с хорошей производительностью. Tailwind CSS ускоряет разработку UI и обеспечивает адаптивный дизайн."

### Вопрос 3: "Как решена проблема интеграции с RIMS?"

**Ответ:**
> "Создан специальный сервис `RimsIntegrationService`, который:
> - Использует HTTP клиент для запросов к RIMS API
> - Ищет пользователей по UID или Email
> - Автоматически сопоставляет подразделения (создает если отсутствует)
> - Создает или обновляет пользователей в локальной БД
> - Логирует все операции
> - Обрабатывает ошибки и таймауты безопасно"

### Вопрос 4: "Какие были основные трудности?"

**Ответ:**
> "Основные трудности:
> 1. Интеграция с RIMS API - решена через создание точных DTO моделей и механизма сопоставления подразделений
> 2. Проблемы с миграциями БД - решены через откат и пересоздание миграций
> 3. Оптимизация запросов к БД - решено использованием Include() в Entity Framework для eager loading
> 4. Ролевая модель доступа на frontend - реализована через guard в Vue Router
> 
> Все проблемы решались через изучение документации и поиск решений в сообществе разработчиков."

### Вопрос 5: "Соответствует ли система требованиям ТЗ?"

**Ответ:**
> "Да, система полностью соответствует основным требованиям ТЗ:
> - Реализована ролевая модель (5 ролей) ✅
> - Модульная система обучения ✅
> - Система тестирования с попытками, проходным баллом ✅
> - Отслеживание прогресса ✅
> - Отчетность ✅
> - Интеграция с RIMS ✅
> - Веб-приложение ✅
> 
> Не реализованы только email уведомления и полная интеграция с SSO/ПСО, которые запланированы на следующий этап."

### Вопрос 6: "Можно ли показать работу системы?"

**Ответ:**
> "Да, система полностью работоспособна. Могу продемонстрировать:
> - Процесс входа пользователя
> - Просмотр модулей и контента
> - Прохождение теста с ограничением попыток
> - Отображение результатов и прогресса
> - Формирование отчетов
> - Административную панель
> - Синхронизацию с RIMS (если доступен доступ к API)"

### Вопрос 7: "Что планируется дальше?"

**Ответ:**
> "В планах:
> - Реализация email уведомлений
> - Полная интеграция с SSO для единого входа
> - Интеграция с ПСО для автоматизации запросов на доступы
> - Экспорт отчетов в Excel/PDF
> - Улучшение UI/UX
> - Расширение библиотеки модулей"

### Вопрос 8: "Сколько времени заняла разработка?"

**Ответ:**
> "Разработка заняла примерно 8-12 недель активной работы:
> - Проектирование и анализ: 1-2 недели
> - Backend разработка: 3-4 недели
> - Frontend разработка: 3-4 недели
> - Интеграция и тестирование: 1-2 недели
> - Документирование: 1 неделя"

### Вопрос 9: "Как обеспечивается безопасность?"

**Ответ:**
> "Безопасность обеспечивается:
> - Ролевой моделью доступа (проверка на backend и frontend)
> - Защитой маршрутов по ролям
> - Валидацией данных на сервере
> - Безопасной обработкой ошибок (не раскрываются внутренние детали)
> - Логированием действий пользователей
> - Использованием DTO для защиты внутренних структур"

### Вопрос 10: "Как система масштабируется?"

**Ответ:**
> "Система спроектирована с учетом масштабируемости:
> - Разделение на клиент и сервер позволяет масштабировать независимо
> - REST API может работать за load balancer
> - База данных поддерживает индексы для оптимизации запросов
> - Архитектура позволяет добавлять новые модули и функции без изменения существующего кода
> - Использование Dependency Injection упрощает тестирование и расширение"

---

## 7. КЛЮЧЕВЫЕ ДОСТИЖЕНИЯ

✅ **Полнофункциональная система онбординга** - все основные функции работают

✅ **Соответствие ТЗ** - реализовано 85-90% требований из технического задания

✅ **Интеграция с корпоративными системами** - RIMS API интегрирован и работает

✅ **Современный стек технологий** - ASP.NET Core, Vue.js 3, современные практики

✅ **Чистая архитектура** - многоуровневая структура, разделение ответственности

✅ **Работоспособность** - система готова к использованию для онбординга сотрудников

✅ **Документирование** - Swagger документация API, README файлы, комментарии в коде

---

## 8. ПРАКТИЧЕСКАЯ ЗНАЧИМОСТЬ

Внедрение системы позволит:
- **Сократить время адаптации** новых сотрудников на 30%+
- **Снизить нагрузку на HR** на 40-50% за счет автоматизации
- **Повысить качество обучения** благодаря стандартизированным материалам
- **Обеспечить прозрачность** процесса через централизованную систему
- **Выявить проблемные зоны** через аналитику результатов тестирования

---

## 9. ЗАКЛЮЧЕНИЕ

Система онбординга новых сотрудников - это полнофункциональное веб-приложение, которое автоматизирует процесс адаптации персонала. Реализован основной функционал согласно техническому заданию, система работоспособна и готова к использованию. Оставшиеся функции (email уведомления, полная интеграция с SSO/ПСО) запланированы на следующий этап разработки.

Проект демонстрирует:
- Навыки full-stack разработки
- Умение работать с современными технологиями
- Понимание архитектуры веб-приложений
- Способность решать технические задачи
- Соответствие требованиям технического задания

